version: '3'
services:
  wyoming-piper:
    build:
      context: ./piper/
      dockerfile: NONGPU.Dockerfile
    ports:
      - "10200:10200"
    volumes:
      - /var/data:/data
    command: [ "--voice", "en_US-lessac-medium" ]
    restart: unless-stopped

  wyoming-whisper:
    build:
      context: ./whisper/
      dockerfile: NONGPU.Dockerfile
    ports:
      - "10300:10300"
    volumes:
      - /var/data:/data
    command: [ "--model", "tiny-int8", "--language", "en" ]
    restart: unless-stopped

  wyoming-openwakeword:
    build:
      context: ./openwakeword/
      dockerfile: NONGPU.Dockerfile
    ports:
      - "10400:10400"
    volumes:
      - /var/data:/data
    command: [ "--preload-model", "hey_jarvis", "--model", "hey_jarvis" ]
    restart: unless-stopped
